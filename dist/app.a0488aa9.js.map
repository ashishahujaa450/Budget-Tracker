{"version":3,"sources":["ts/Model/Eventing.ts","ts/Model/Expense.ts","ts/Model/Budget.ts","ts/app.ts"],"names":[],"mappings":";;;;;;AEAA,AFEA,ACFA,AEAA,IDAA,AFEA,ACFA,AEAA,QHEA,AGFA,CDAA,CDAA,CEAA,CDAA,CDAA,KEAA,CDAA,ACAA,CDAA,ADAA,CAAA,UCAA,CAAA,CDAA,CAAA,CEAA,CAAA;AHEA;AEIA,AFJA,ACMA,AEPA,IDKA,ADEA,AEPM,IAAI,EDKV,CDEA,AEPa,CHCb,GGDiB,QAAA,CAAA,MAAJ,CAAW;ADKxB,AFJA,ACMA,AEP0B,EAAA,SHC1B,EGDqC,EAAE,IHCvC,GAAA;AEIA,AFJA,ACMA,AEPwB,CAAX,CAAb,MHCA,IEIA,ADEA,CDNA,GAAA,IAAA;AEQE,ADGA,AEVF,IAAI,CAAC,MDOH,ADGA,KEVF,CDOE,ACPe,CDOI,ADGnB,GAAA,CCHA,EAAoC;AAApC,AFPQ,ACUR,AETA,EAAA,KAAK,CDML,ADGA,CDVQ,AGCD,IDMP,ADGA,EDVQ,CEOR,ADGA,EDVgD,EEOhD,AFPQ,ACUR,CDXF,CAGE,EGFe;AAEf,EAAA,KAAK,EAAE;ADKY,AFJZ,ACGA,AENQ,CAAjB,QDOqB,AFJZ,ACGA,EDHA,EEIY,CFJP,EEIO,IAAA,CDDZ,GDHM,ACGiB,CAAvB,QDHK,EAAoB,QAApB,EAAsC;AEC3C,AFAL,ACGK,AEFT,IAAI,CAAC,IDDI,ADGA,CDHC,MEAD,ACCT,CHDiB,AGCA,EDDU,CAAlB,AFAW,ACGX,GAA6B,EDHd,ACGf,CDHgB,MAAL,CAAY,SAAZ,KAA0B,EAA1C;AECM,AFAN,ACGK,AEFP,EAAA,IHDE,CGCG,EDDG,ADGD,AEFA,IHDE,CAAC,AGAK,CFGR,CCHC,EFAN,ACGwB,CCHC,AFAZ,GCGe,CCHC,IFA7B,KEA6B,ADGD,CCHC,ADGD,OCHH,CDGD,CCHlB,CDGD,CAEP,CAIA;ADRE,AGCF,EAAA,IHDE,CGCG,EAAE,EHDD,CAAC,MAAL,CAAY,SAAZ,IAAyB,OAAzB;AEKM,AFJP,ACQO,AEVO,CAAjB,IHFS,CAJT,CAUE,EEEQ,ADIA,UCJA,ADIA,GCJa,ADIA,YCJA,ADIA;ACHnB,ADIA,AENJ,IAAI,CAAC,CDED,ADIA,KCJI,ADIA,CCJC,ADIA,IENT,CAAiB,CFMb,CCJA,ADIY,CCJC,CDIb,CAAe,ICJf,CAAoB,EAApB,CAAuB,ADIvB,EAAyB,MCJzB,EAAiC,IDIR,QCJQ;AAC/B,ADIA,AENJ,EAAA,KAAK,CDED,ADIA,CENG,IDEC,ADIA,CCJC,ADIA,aCJL,CCHW,IFOX;ACHD,AFJI,ACQJ,AENH,EAAA,KDAE,ADIA,AEJG,EHFE,AGEA,OHFA,GAAU,UAAC,SAAD,EAAkB;AEKlC,AFJC,ACQD,AETc,CAAjB,IDCU,ADIA,CCR4B,ADGpC,CCOA,ADIA,GDVQ,OAAO,GAAG,KAAI,CAAC,MAAL,CAAY,SAAZ,CAAhB;AGIJ,IAAI,CAAC,WAAL,CAAiB;AHFb,AGGF,EAAA,KAAK,EAAE,CHHD,OAAJ,EAAa,IGEA;ADGP,AFJJ,ACQI,AELR,EAAA,KAAK,CHHD,CEII,ADIA,AELD,MHHI,CAAC,MEIJ,CFJJ,CAAgB,CEII,EDIhB,GAAqB,IDRR,GEIG,KFJJ,ACQS,EDRU;AEKrC,AFJI,ACQJ,AERa,CAAjB,KDII,IFJI,ACQA,CCJA,CAAC,KDIM,CDRC,CEIZ,CDIsB,CAAtB,CCJe,KAAI,CAAC,IAAL,CAAU,WAAV,GAAwB,KAAI,CAAC,OAAL,CAAa,YAApD;AACD,AFJI,AGIP,IAAI,CDFM,ACEL,IHNC,OGMN,CAAiB;AHHZ,ACOD,AEHF,EAAA,IFGE,CDXA,AGQG,EAAE,EFGD,CAAC,CDPE,UCOP,CAAiB,KEJJ,EFIb,CAAyB,UAAA,IAAA,EAAI;AChB7B,AFUE,ACOA,AEHJ,EAAA,KAAK,CFGD,CCjBG,ACcA,KHJG,CCOC,GDPG,CEVZ,ADiBa,IDPL,ACOS,CDPC,ACOA,KAAhB,YDPM,CAAN;AETH,AFUE,ACOA,AENY,CAAjB,MFII;ADJD,AGKH,IAAI,CHfK,AGeJ,cAAL,CAAoB,CAApB;ADFE,AFFD,ACOG,AEDJ,EDJE,ECIE,CAAC,CFCD,ECLF,CAAA,EDKM,CAAC,IEDT,CAAiB,MDJf,CAAW,ADKT,GAAoB,GCLX,CAAA,GDKT,MCLF,EAAW,aAAX,EAAsB;AADtB,ADOC,AEDD,EAAA,GFNQ,CAZR,CAqBA,AEHK,EAAE,WADQ;AHNjB,AGQE,EAAA,KAAK,EDNL,AFFF,AGQS,QHRT,OEEE;AACE,AFzBJ,AG4BiB,CH5BjB,AG4BA,EH5BA,UEyBW,KAAK,OAAL,CAAa,WAApB;AACD,ADOM,AEAT,IAAI,CDToB,ACSnB,IFAI,UEAT,CFAS,AEAW,CAApB,EFAuB,UAAC,IAAD,EAAkB;ADjC5B,ACkCT,AECJ,IAAI,CAAC,EHnCQ,CAAA,ECkCL,IAAI,CAAC,CDlCA,GAAA,AGmCb,CDXwB,ADUhB,AECY,CAApB,EAAuB,CFDD,GDlCT,CCkCa,CAAC,KAAvB,EAA8B;AAC5B,AEAmB,EAAA,KAAK,EAAE,cAAT;ADXC,ADYlB,AED0C,EAAA,CDX9C,ICWmD,EAAE,GFC7C,KAAI,CAAC,WAAL,CAAiB,MAAjB,GAA0B,CAA9B,EAAiC;ACRrC,ADSM,AEFe,CAAvB,CDPE,MAAA,CAAA,CDSM,IAAI,CAAC,EAAL,GAAU,GCThB,CAAW,CDSS,CAAC,ICTV,CAAA,MDSK,CAAiB,ECTjC,EAAW,CDS0B,CAAC,WAAL,CAAiB,ECTlD,EAAyB,EDSQ,GAA0B,CAA3C,EAA8C,EAA9C,GAAmD,CAA7D;AACD,AEDP,OAAO,CAAC,CDTN,ADQI,EECN,CAAY,GFCC,CEDb,QDTE;AACE,ADUI,UAAA,GCVG,CDUC,CAAC,EAAL,CCVQ,EDUE,CAAV,ICVG,CAAa,cAApB;AACD,ADUI,KCZoB;oBAAA;ADcrB,QAAA,KAAI,CAAC,WAAL,CAAiB,IAAjB,CAAsB,IAAtB;ACdqB,ADetB,GCfH,IDME,MASO;ACXT,ADYI,ECZJ,MAAA,CAAA,KDYU,IAAI,KCZd,ADYU,CCZC,ADYS,MCZT,CAAA,SAAX,EAAW,SDYD,CAAN,MCZJ,EAAyB;ADatB,OAZoC,CAcrC,CCfF,eAAA;AACE,aAAO,KAAK,OAAL,CAAa,cAApB;AACD,KAFwB;ADgBvB,MAAA,KAAI,CAAC,MAAL,CAAY,CChBW,MDgBvB,CAAoB,QAApB;AACD,KAhBM,CAtBP,CAwCA;ACnByB,GAAzB;AAGF,SAAA,MAAA;AA/BA,ADgDS,CChDT,EAAA,MDgDS,cAAA,GAAiB,UAAC,EAAD,EAAW;AACjC,UAAM,KAAK,GAAG,KAAI,CAAC,WAAL,CAAiB,SAAjB,CACZ,UAAC,IAAD,EAAkB;AClDX,ADkDyB,OClDzB,CAAA,MAAA,CDkDyB,EClDzB,EDkD6B,CAAC,EAAL,CClDzB,IDkDqC,EAAZ;AAAc,OADlC,CAAd;;AAIA,MAAA,KAAI,CAAC,WAAL,CAAiB,MAAjB,CAAwB,KAAxB,EAA+B,CAA/B,EALiC,CAOjC;;;AACA,MAAA,KAAI,CAAC,MAAL,CAAY,OAAZ,CAAoB,QAApB;AACD,KATM,CAzCP,CAoDA;;;AACO,SAAA,cAAA,GAAiB,UAAC,EAAD,EAAa,WAAb,EAAqC;AAC3D,UAAM,WAAW,GAAG,KAAI,CAAC,WAAL,CAAiB,IAAjB,CAClB,UAAC,IAAD,EAAkB;AAAc,eAAA,IAAI,CAAC,EAAL,KAAY,EAAZ;AAAc,OAD5B,CAApB;;AAIA,UAAI,WAAJ,EAAiB;AACf,QAAA,WAAW,CAAC,KAAZ,GAAoB,WAAW,CAAC,KAAhC;AACA,QAAA,WAAW,CAAC,KAAZ,GAAoB,WAAW,CAAC,KAAhC;AACD,OAHD,MAGO;AACL,cAAM,IAAI,KAAJ,CAAU,iDAAV,CAAN;AACD,OAV0D,CAY3D;;;AACA,MAAA,KAAI,CAAC,MAAL,CAAY,OAAZ,CAAoB,QAApB;AACD,KAdM;;AApDL,SAAK,UAAL;AACD;;AAkEH,SAAA,OAAA;AAzEA,CAAA,EAAA;;AAAa,OAAA,CAAA,OAAA,GAAA,OAAA","file":"app.a0488aa9.js","sourceRoot":"..","sourcesContent":["type callback = () => void;\r\n\r\nexport class Eventing {\r\n  private events: { [key: string]: callback[] } = {};\r\n\r\n  //registering events\r\n  public on = (eventName: string, callback: callback): void => {\r\n    const handler = this.events[eventName] || [];\r\n    handler.push(callback);\r\n    this.events[eventName] = handler;\r\n  };\r\n\r\n  //trigger event\r\n  public trigger = (eventName: string) => {\r\n    const handler = this.events[eventName];\r\n\r\n    if (handler) {\r\n      handler.forEach((callback: callback) => {\r\n        callback();\r\n      });\r\n    } else {\r\n      throw new Error(\"event not found\");\r\n    }\r\n  };\r\n}\r\n","import { Eventing } from \"./Eventing\";\r\n\r\ninterface ExpenseList {\r\n  title: string;\r\n  value: number;\r\n  id?: number;\r\n}\r\n\r\nexport class Expense {\r\n  public totalExpense: number = 0;\r\n  public expenseList: ExpenseList[] = [];\r\n  public events: Eventing = new Eventing();\r\n\r\n  constructor() {\r\n    this.bindChange();\r\n  }\r\n\r\n  //bind change\r\n  private bindChange = (): void => {\r\n    this.events.on(\"change\", () => {\r\n      this.updateTotalExpense();\r\n    });\r\n  };\r\n\r\n  //updating total expense\r\n  private updateTotalExpense = (): void => {\r\n    let expense: number = 0;\r\n    this.expenseList.forEach(item => {\r\n      expense += item.value;\r\n    });\r\n\r\n    this.totalExpense = expense;\r\n  };\r\n\r\n  //add list item to expense list\r\n  public addListItem = (item: ExpenseList): void => {\r\n    if (item.value && item.title) {\r\n      //attach unique id\r\n      if (this.expenseList.length > 0) {\r\n        item.id = this.expenseList[this.expenseList.length - 1].id + 1;\r\n      } else {\r\n        item.id = 0;\r\n      }\r\n\r\n      this.expenseList.push(item);\r\n    } else {\r\n      throw new Error(\"please enter correct data\");\r\n    }\r\n\r\n    //trigger app change event\r\n    this.events.trigger(\"change\");\r\n  };\r\n\r\n  //remove list item from expense list\r\n  public removeListItem = (id: number): void => {\r\n    const index = this.expenseList.findIndex(\r\n      (item: ExpenseList): boolean => item.id === id\r\n    );\r\n\r\n    this.expenseList.splice(index, 1);\r\n\r\n    //trigger app change event\r\n    this.events.trigger(\"change\");\r\n  };\r\n\r\n  //update existing list item from expense list\r\n  public updateListItem = (id: number, updatedItem: ExpenseList): void => {\r\n    const replaceWith = this.expenseList.find(\r\n      (item: ExpenseList): boolean => item.id === id\r\n    );\r\n\r\n    if (replaceWith) {\r\n      replaceWith.title = updatedItem.title;\r\n      replaceWith.value = updatedItem.value;\r\n    } else {\r\n      throw new Error(\"trying to update the item which is not existed!\");\r\n    }\r\n\r\n    //trigger app change event\r\n    this.events.trigger(\"change\");\r\n  };\r\n}\r\n","import { Expense } from \"./Expense\";\r\n\r\nexport interface BudgetProps {\r\n  totalBudget?: number;\r\n}\r\n\r\nexport class Budget {\r\n  public balance: number = 0;\r\n  private expense: Expense = new Expense();\r\n\r\n  constructor(public data: BudgetProps) {\r\n    this.bindChange();\r\n  }\r\n\r\n  private bindChange = (): void => {\r\n    this.expense.events.on(\"change\", () => {\r\n      this.updateBalance();\r\n    });\r\n  };\r\n\r\n  //updating balance\r\n  private updateBalance = (): void => {\r\n    this.balance = this.data.totalBudget - this.expense.totalExpense;\r\n  };\r\n\r\n  //delegating methods to expense class\r\n  public get addListItem() {\r\n    return this.expense.addListItem;\r\n  }\r\n\r\n  public get removeListItem() {\r\n    return this.expense.removeListItem;\r\n  }\r\n\r\n  public get updateListItem() {\r\n    return this.expense.updateListItem;\r\n  }\r\n}\r\n","import { Budget } from \"./Model/Budget\";\r\nconst item = new Budget({ totalBudget: 5000 });\r\n\r\nitem.addListItem({\r\n  title: \"attached item\",\r\n  value: 100\r\n});\r\n\r\nitem.addListItem({\r\n  title: \"exp\",\r\n  value: 500\r\n});\r\n\r\nitem.addListItem({\r\n  title: \"new attached item\",\r\n  value: 2100\r\n});\r\n\r\nitem.addListItem({\r\n  title: \"car purchase\",\r\n  value: 200\r\n});\r\n\r\nitem.addListItem({\r\n  title: \"laptop accessories\",\r\n  value: 150\r\n});\r\n\r\nitem.removeListItem(3);\r\n\r\nitem.addListItem({\r\n  title: \"final exp\",\r\n  value: 500\r\n});\r\n\r\nitem.removeListItem(4);\r\n\r\nitem.updateListItem(2, { title: \"updatedTitle\", value: 2100 });\r\n\r\nconsole.log(item);\r\n"]}